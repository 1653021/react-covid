(this["webpackJsonpreact-covid"]=this["webpackJsonpreact-covid"]||[]).push([[0],{32:function(e,t,n){e.exports=n(47)},37:function(e,t,n){},38:function(e,t,n){},40:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},46:function(e,t){},47:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),i=n.n(c),l=(n(37),n(38),n(20)),o=n.n(l),u=n(27),s=n(11),m=n(22),f=n(17),p=(n(40),function(e){var t=e.name,n=e.address,a=e.note,c=e.verifyDate;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"title-patient-info"},"Patient Information"),r.a.createElement("ul",null,r.a.createElement("li",null,"Name: ",t),r.a.createElement("li",null,"Address: ",n),r.a.createElement("li",null,"Note: ",a),r.a.createElement("li",null,"Verify Date: ",c)))}),d=n(31),v=n(50),E=n(51),h=n(49),b=n(52),g=function(e){var t=e.onPatientMarkerClicked,n=e.patients,a=e.lat,c=e.lng;return r.a.createElement(v.a,{key:"covid-map",center:[a,c],zoom:13},r.a.createElement(E.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png   "}),n&&n.map((function(e,n){return r.a.createElement(h.a,{key:"patient-marker"+n,position:[e.lat,e.lng],onClick:function(){t(e)}},r.a.createElement(b.a,null,r.a.createElement("ul",null,r.a.createElement("li",null,"Name: ",e.name),r.a.createElement("li",null,"Address: ",e.address),r.a.createElement("li",null,"Note: ",e.note),r.a.createElement("li",null,"Verify date: ",e.verifyDate))))})))},y=n(23),k=(n(43),function(e){var t=e.patients,n=e.name_current_patient,c=e.onListGroupItemClicked;document.querySelectorAll(".infected-patient");return Object(a.useEffect)((function(){var e;n&&(e=n,document.querySelectorAll(".infected-patient").forEach((function(t,n){t.innerText===e&&t.scrollIntoView({behavior:"smooth"})})))})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"title-list-infected-patient"},"List Infected Patients"),r.a.createElement(y.a,{id:"wrap-list-infected"},t&&t.map((function(e,t){return r.a.createElement(y.a.Item,{key:"list-infected-"+t,className:"infected-patient",onClick:function(){c(e)}},e.name)}))))}),w=n(21),D=(n(44),n(30)),j={year:"numeric",month:"long",day:"numeric"},O=new Date("2019-12-08").toLocaleDateString([],j),C=(new Date).toLocaleDateString([],j),N=function(e,t){e=new Date(e);for(var n=[];e<=t;)n.push(new Date(e)),e.setDate(e.getDate()+1);return n}("2019-12-08",new Date),S=function(e){var t=e.onClickHandleDateRange,n=e.patients,c=Object(a.useState)([0]),i=Object(s.a)(c,2),l=i[0],o=i[1],u=Object(a.useState)(!1),m=Object(s.a)(u,2),f=m[0],p=m[1];return Object(a.useEffect)((function(){var e=null;return f?e=setInterval((function(){var e=[];e.push(l[0]+1),t(N[e]),o(e)}),1e3):f||0===l||clearInterval(e),function(){return clearInterval(e)}}),[f,l]),r.a.createElement("div",{className:"wrap-seek-bar"},r.a.createElement("div",{className:"wrap-current-date-selected"},r.a.createElement("span",{className:"title-current-date"},"Current date: \xa0"),r.a.createElement("span",null,N[l].toLocaleDateString([],j)),r.a.createElement("div",null,r.a.createElement("button",{className:"button button-primary button-play-pause button-primary-".concat(f?"active":"inactive"),onClick:function(){p(!f)}},f?"Pause":"Start"),r.a.createElement("button",{className:"button button-reset",onClick:function(){o([0]),p(!1)}},"Reset"))),r.a.createElement("div",{className:"wrap-title-start-end-date"},r.a.createElement("span",{className:"title-start-date"},O),r.a.createElement("span",{className:"title-end-date"},C)),"undefined"!==typeof n||null!=n?r.a.createElement(D.Range,{step:1,min:0,max:function(e){return e.length-1}(N),values:l,onChange:function(e){return a=t,o(n=e),void a(N[n]);var n,a},renderTrack:function(e){var t=e.props,n=e.children;return r.a.createElement("div",Object.assign({},t,{style:Object(w.a)({},t.style,{height:"6px",width:"100%",backgroundColor:"#ccc"})}),n)},renderThumb:function(e){var t=e.props;return r.a.createElement("div",Object.assign({},t,{style:Object(w.a)({},t.style,{height:"42px",width:"42px",backgroundColor:"#999"})}))}}):"")},x=function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),c=n[0],i=n[1],l=Object(a.useState)(),v=Object(s.a)(l,2),E=v[0],h=v[1],b=Object(a.useState)([]),y=Object(s.a)(b,2),w=y[0],D=y[1],j=Object(a.useState)(new Date("2019-12-08")),O=Object(s.a)(j,2),C=O[0],N=O[1],x=function(e){h(e)},I=function(e){h(e)},L=function(e){var t=[];return c.map((function(n,a){new Date(n.verifyDate).getTime()<=e.getTime()&&t.push(n)})),D(t),t};return Object(a.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("https://cors-anywhere.herokuapp.com/maps.vnpost.vn/apps/covid19/api/patientapi/list").then((function(e){return e.json()})).then((function(e){var t=e.data.sort((function(e,t){return new Date(e.verifyDate)>=new Date(t.verifyDate)?-1:1}));i(t);var n=[];t.map((function(e,t){new Date(e.verifyDate).getTime()<=C.getTime()&&n.push(e)})),D(n)}),(function(e){}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(C)}),[]),r.a.createElement(d.a,null,r.a.createElement(m.a,null,E?r.a.createElement(f.a,{xs:9},r.a.createElement(g,{onPatientMarkerClicked:x,patients:w,lat:E.lat,lng:E.lng})):r.a.createElement(f.a,{xs:9},r.a.createElement(g,{onPatientMarkerClicked:x,patients:w,lat:10.762887,lng:106.6800684})),r.a.createElement(f.a,{xs:3},E&&r.a.createElement(p,{name:E.name,address:E.address,note:E.note,verifyDate:E.verifyDate}),E?r.a.createElement(k,{patients:w,name_current_patient:E.name,onListGroupItemClicked:I}):r.a.createElement(k,{patients:w,name_current_patient:"",onListGroupItemClicked:I}))),r.a.createElement(m.a,null,r.a.createElement(S,{onClickHandleDateRange:function(e){N(e),L(e)},patients:w})))};var I=function(){return r.a.createElement(x,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(46),i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.550f15c6.chunk.js.map